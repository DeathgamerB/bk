<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Status Report</title>
</head>
<body>
    <h1>Status Report</h1>
    <div id="csv-data">加载中...</div>

    <script>
        async function loadCSV() {
            try {
                // 请求获取 status.csv 文件内容
                const response = await fetch('bk/status.csv');
                const csvData = await response.text();

                // 将 CSV 数据按行分割并解析
                const rows = csvData.split('\n');
                let html = '<table border="1"><tr>';

                // 解析并生成表头
                const headers = rows[0].split(',');
                headers.forEach(header => {
                    html += `<th>${header.trim()}</th>`;
                });
                html += '</tr>';

                // 生成表格内容
                for (let i = 1; i < rows.length; i++) {
                    if (rows[i].trim() === '') continue; // 跳过空行
                    const columns = rows[i].split(',');
                    html += '<tr>';
                    columns.forEach(column => {
                        html += `<td>${column.trim()}</td>`;
                    });
                    html += '</tr>';
                }
                html += '</table>';

                // 将表格插入页面
                document.getElementById('csv-data').innerHTML = html;
            } catch (error) {
                document.getElementById('csv-data').innerText = '无法加载 CSV 文件。';
            }
        }

        // 加载 CSV 文件
        loadCSV();
    </script>
</body>
</html>
